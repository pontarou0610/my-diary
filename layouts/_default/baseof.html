<!DOCTYPE html>
<html lang="ja">

<head>
  {{- partial "head.html" . }}
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-G2NFRH2242"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-G2NFRH2242');
  </script>
  {{/* === SEO meta & structured data === */}}
  {{- $desc := "" -}}
  {{- if .Description }}
  {{- $desc = .Description | plainify -}}
  {{- else if .IsPage }}
  {{- $desc = .Summary | plainify | truncate 160 -}}
  {{- else }}
  {{- $desc = site.Params.siteDescription | default site.Params.description -}}
  {{- end }}
  {{- $image := "" -}}
  {{- with .Params.cover.image }}{{ $image = . }}{{ end -}}
  {{- if and (not $image) .Params.images }}{{ $image = index .Params.images 0 }}{{ end -}}
  {{- if not $image }}{{ $image = site.Params.defaultOgImage }}{{ end -}}
  <meta name="description" content="{{ $desc }}">
  <link rel="canonical" href="{{ .Permalink }}">
  {{- with .PrevInSection }}
  <link rel="prev" href="{{ .Permalink }}">{{ end -}}
  {{- with .NextInSection }}
  <link rel="next" href="{{ .Permalink }}">{{ end -}}
  <meta property="og:type" content="{{ if .IsHome }}website{{ else }}article{{ end }}">
  <meta property="og:title" content="{{ .Title }}">
  <meta property="og:description" content="{{ $desc }}">
  <meta property="og:url" content="{{ .Permalink }}">
  <meta property="og:image" content="{{ $image | absURL }}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ .Title }}">
  <meta name="twitter:description" content="{{ $desc }}">
  <meta name="twitter:image" content="{{ $image | absURL }}">
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7953303438736598"
    crossorigin="anonymous"></script>
  {{- if .IsPage }}
  <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Article",
          "headline": {{ .Title | jsonify }},
          "datePublished": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
          "dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}",
          "mainEntityOfPage": {"@type": "WebPage","@id": "{{ .Permalink }}"},
          "image": {{ $image | absURL | jsonify }},
          "author": {"@type": "Person","name": {{ site.Params.author | default site.Title | jsonify }}},
          "publisher": {
            "@type": "Organization",
            "name": {{ site.Title | jsonify }},
            "logo": {"@type": "ImageObject","url": {{ (site.Params.defaultOgImage | default $image) | absURL | jsonify }}}
          },
          "description": {{ $desc | jsonify }}
        }
      </script>
  {{- $crumbs := slice (dict "name" site.Title "url" site.BaseURL) -}}
  {{- range .Ancestors.Reverse }}
  {{- $crumbs = $crumbs | append (dict "name" .Title "url" .Permalink) -}}
  {{- end }}
  {{- $crumbs = $crumbs | append (dict "name" .Title "url" .Permalink) -}}
  <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "BreadcrumbList",
          "itemListElement": [
            {{- range $i, $c := $crumbs -}}
              {{- if gt $i 0 }},{{ end }}
              {"@type":"ListItem","position":{{ add $i 1 }},"name":{{ $c.name | jsonify }},"item":{{ $c.url | jsonify }}}
            {{- end }}
          ]
        }
      </script>
  {{- end }}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+JP:wght@400;500;700&display=swap"
    rel="stylesheet">
  <style>
    :root {
      /* Modern Color Palette (HSL) */
      --hue-primary: 250;
      /* Deep Indigo */
      --hue-accent: 330;
      /* Vibrant Pink/Rose */

      --color-primary: hsl(var(--hue-primary), 80%, 60%);
      --color-primary-dark: hsl(var(--hue-primary), 80%, 45%);
      --color-accent: hsl(var(--hue-accent), 90%, 60%);

      --bg-body: #f8fafc;
      --bg-card: #ffffff;
      --text-main: #111827;
      /* Darker black for better readability */
      --text-muted: #4b5563;
      --border-color: #e2e8f0;

      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

      --radius-md: 0.5rem;
      --radius-lg: 1rem;
      --radius-xl: 1.5rem;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Inter', 'Noto Sans JP', sans-serif;
      background-color: var(--bg-body);
      background-image:
        radial-gradient(at 0% 0%, hsla(253, 16%, 7%, 0) 0, transparent 50%),
        radial-gradient(at 50% 0%, hsla(225, 39%, 30%, 0) 0, transparent 50%),
        radial-gradient(at 100% 0%, hsla(339, 49%, 30%, 0) 0, transparent 50%);
      color: var(--text-main);
      line-height: 1.75;
      -webkit-font-smoothing: antialiased;
    }

    a {
      color: var(--color-primary);
      text-decoration: none;
      transition: color 0.2s ease;
    }

    a:hover {
      color: var(--color-primary-dark);
    }

    /* Header */
    .site-header {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(226, 232, 240, 0.8);
      padding: 1rem 0;
    }

    .header-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .site-title {
      font-size: 1.5rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 100%);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: -0.025em;
    }

    .site-nav {
      display: flex;
      gap: 1.5rem;
    }

    .site-nav a {
      color: var(--text-main);
      font-weight: 500;
      font-size: 0.95rem;
    }

    .site-nav a:hover {
      color: var(--color-primary);
    }

    /* Main Layout */
    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 3rem 1.5rem 5rem;
    }

    /* Typography */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      color: #0f172a;
      line-height: 1.3;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
    }

    h1 {
      font-size: 2.5rem;
      letter-spacing: -0.025em;
    }

    h2 {
      font-size: 1.8rem;
      letter-spacing: -0.025em;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--border-color);
    }

    h3 {
      font-size: 1.4rem;
    }

    p {
      margin-bottom: 1.5rem;
    }

    /* Cards & Containers */
    .page-card {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
      padding: 2rem;
      border: 1px solid var(--border-color);
    }

    /* Single Post Layout */
    .post {
      max-width: 800px;
      margin: 0 auto;
    }

    /* Post Content Styling */
    .post-content {
      font-size: 1.05rem;
      line-height: 1.9;
      color: #000000;
    }

    .post-content h2 {
      margin-top: 3rem;
      margin-bottom: 1.5rem;
      font-size: 1.75rem;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 0.5rem;
      color: var(--text-main);
    }

    .post-content h3 {
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      font-size: 1.4rem;
      color: var(--text-main);
    }

    .post-content p {
      margin-bottom: 1.8rem;
    }

    .post-content img {
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-md);
      max-width: 100%;
      height: auto;
      margin: 2rem auto;
      display: block;
    }

    .post-content blockquote {
      border-left: 4px solid var(--color-primary);
      background: #f1f5f9;
      margin: 1.5rem 0;
      padding: 1rem 1.5rem;
      border-radius: 0 var(--radius-md) var(--radius-md) 0;
      font-style: italic;
    }

    /* Footer */
    .site-footer {
      background: #fff;
      border-top: 1px solid var(--border-color);
      padding: 3rem 1.5rem;
      text-align: center;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Utilities */
    .container {
      width: 100%;
    }

    /* Hero Section (Home) */
    .hero-section {
      text-align: center;
      padding: 4rem 1rem 5rem;
      background: radial-gradient(circle at center, rgba(var(--hue-primary), 80%, 60%, 0.05) 0%, transparent 70%);
    }

    .hero-title {
      font-size: 3rem;
      font-weight: 800;
      color: #0f172a;
      margin-bottom: 1rem;
      letter-spacing: -0.03em;
    }

    .hero-desc {
      font-size: 1.2rem;
      color: var(--text-muted);
      max-width: 600px;
      margin: 0 auto;
    }

    /* Post Card (List) */
    .post-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .post-card {
      background: var(--bg-card);
      border-radius: var(--radius-xl);
      overflow: hidden;
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .post-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-xl);
      border-color: var(--color-primary);
    }

    .post-card__thumb {
      height: 200px;
      overflow: hidden;
      background: #e2e8f0;
    }

    .post-card__thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .post-card:hover .post-card__thumb img {
      transform: scale(1.05);
    }

    .post-card__body {
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      flex: 1;
    }

    .post-card__meta {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-weight: 600;
    }

    .post-card__title {
      font-size: 1.25rem;
      font-weight: 700;
      margin: 0 0 0.75rem;
      line-height: 1.4;
    }

    .post-card__title a {
      color: #0f172a;
    }

    .post-card__title a:hover {
      color: var(--color-primary);
    }

    .post-card__excerpt {
      color: var(--text-muted);
      font-size: 0.95rem;
      margin-bottom: 1.5rem;
      flex-grow: 1;
    }

    .post-card__more {
      font-weight: 600;
      font-size: 0.9rem;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    /* Single Post Hero */
    .post-hero {
      text-align: center;
      padding: 3rem 0;
      margin-bottom: 3rem;
    }

    .post-hero__tags {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .tag-badge {
      background: rgba(var(--hue-primary), 80%, 60%, 0.1);
      color: var(--color-primary);
      padding: 0.25rem 0.75rem;
      border-radius: 999px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .post-hero__title {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 800;
      line-height: 1.2;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #0f172a 0%, #334155 100%);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .post-hero__meta {
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    /* TOC */
    .toc {
      background: #ffffff !important;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow-sm);
    }

    .toc summary {
      font-weight: 700;
      cursor: pointer;
      color: #111827 !important;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid var(--border-color);
    }

    .toc ul {
      margin-top: 1rem;
      padding-left: 1.2rem;
    }

    .toc li {
      margin: 0.5rem 0;
      line-height: 1.5;
    }

    .toc a {
      color: #111827 !important;
      /* Darker text for better readability */
      text-decoration: none;
      transition: color 0.2s;
      font-weight: 500;
    }

    .toc a:hover {
      color: var(--color-primary) !important;
      text-decoration: underline;
      background-color: rgba(var(--hue-primary), 80%, 60%, 0.05);
    }
  </style>
</head>

<body>
  <header class="site-header">
    <div class="header-inner">
      <a href="{{ .Site.BaseURL }}" class="site-title">
        {{ .Site.Title }}
      </a>
      <nav class="site-nav">
        <a href="{{ .Site.BaseURL }}">Home</a>
        {{- with site.Menus.main }}
        {{- range . }}
        <a href="{{ .URL | absURL }}">{{ .Name }}</a>
        {{- end }}
        {{- end }}
      </nav>
    </div>
  </header>

  <main>
    {{ block "main" . }}{{ end }}
  </main>

  <footer class="site-footer">
    <small>Â© {{ now.Format "2006" }} {{ .Site.Title }} / Powered by Hugo</small>
  </footer>
</body>

</html>